{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotos = searchedQuery => {\n    const URL = 'https://pixabay.com/api/';\n    const urlParams = new URLSearchParams({\n      key: '45481518-557ec69fe97012c17356df52c',\n      q: searchedQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: 20,\n      safesearch: true\n    });\n  \n    return fetch(`${URL}?${urlParams}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n  \n      return response.json();\n    });\n  };","\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n//DODANO\nlet lightbox;\n\nexport function createImages(imgDetails) {\n \n  return `\n    <li class=\"gallery-item\">\n      <a href=\"${imgDetails.largeImageURL}\">\n        <img src=\"${imgDetails.webformatURL}\" alt=\"${imgDetails.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p><b>Likes:</b> ${imgDetails.likes}</p>\n        <p><b>Views:</b> ${imgDetails.views}</p>\n        <p><b>Comments:</b> ${imgDetails.comments}</p>\n        <p><b>Downloads:</b> ${imgDetails.downloads}</p>\n      </div>\n    </li>\n  `;\n}\n\n//DODANO\nexport function initializeLightbox() {\n    lightbox = new SimpleLightbox('.gallery__link', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n  \n  export function refreshLightbox() {\n    lightbox.refresh();\n  }\n\n\n  \nexport function showLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.style.display = 'block';\n  }\n  \n  export function hideLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.style.display = 'none';\n  }\n  \n\n\n\nexport function clearImages() {\n  const list = document.querySelector('.gallery');\n  \n  if (list) {  \n    list.innerHTML = '';\n  } else {\n    console.error('Element with class \"gallery\" not found.');\n  }\n}\n\n","\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchPhotos } from './js/pixabay-api';\n\n//DODANO\nimport {\n    createImages,\n    clearImages,\n    showLoader,\n    hideLoader,\n    initializeLightbox,\n    refreshLightbox,\n  } from './js/render-functions';\n  \n\n\n\nconst formEl = document.querySelector('.js-search-form');\n\nconst loader = document.querySelector('.js-gallery');\n\nconst searchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchValue = formEl.elements.searchtext.value.trim();\n\n  if (!searchValue) {\n    iziToast.error({\n      message: \"Please enter a valid search query.\",\n      position: 'topRight',\n    });\n    return;\n  }\n\n  //DODANO\n  clearImages();\n  showLoader();\n  \n  fetchPhotos(searchValue)\n  .then(data => {\n\n    //DODANO\n    hideLoader();\n\n\n    if (!data.hits || data.hits.length === 0) {\n      iziToast.error({\n        message: \"Sorry, no images were found.\",\n        position: 'topRight',\n      });\n      loader.innerHTML = '';\n      formEl.reset();\n      return;\n    }\n    // const galleryCard = data.result.map(imgDetails => createGalleryCard(imgDetails)).join('');\n    const galleryCard = data.hits.map(imgDetails => createImages(imgDetails)).join(''); \n\n    loader.innerHTML = galleryCard;\n\n    //DODANO\n    initializeLightbox(); // Ініціалізація SimpleLightbox після першого завантаження\n    refreshLightbox();\n    //QQQ\n  })\n  .catch(err => {\n    console.log(err);\n  });\n}\n\nformEl.addEventListener('submit', searchFormSubmit);\n\n"],"names":["fetchPhotos","searchedQuery","URL","urlParams","response","lightbox","createImages","imgDetails","initializeLightbox","SimpleLightbox","refreshLightbox","showLoader","loader","hideLoader","clearImages","list","formEl","searchFormSubmit","event","searchValue","iziToast","data","galleryCard","err"],"mappings":"6vBAAO,MAAMA,EAAcC,GAAiB,CACxC,MAAMC,EAAM,2BACNC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,SAAU,GACV,WAAY,EAClB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIC,CAAS,EAAE,EAAE,KAAKC,GAAY,CACnD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,CACF,ECbH,IAAIC,EAEG,SAASC,EAAaC,EAAY,CAEvC,MAAO;AAAA;AAAA,iBAEQA,EAAW,aAAa;AAAA,oBACrBA,EAAW,YAAY,UAAUA,EAAW,IAAI;AAAA;AAAA;AAAA,2BAGzCA,EAAW,KAAK;AAAA,2BAChBA,EAAW,KAAK;AAAA,8BACbA,EAAW,QAAQ;AAAA,+BAClBA,EAAW,SAAS;AAAA;AAAA;AAAA,GAInD,CAGO,SAASC,GAAqB,CACjCH,EAAW,IAAII,EAAe,iBAAkB,CAC9C,aAAc,MACd,aAAc,GACpB,CAAK,CACF,CAEM,SAASC,GAAkB,CAChCL,EAAS,QAAO,CACjB,CAII,SAASM,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,YAAY,EAClDA,EAAO,MAAM,QAAU,OACxB,CAEM,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,YAAY,EAClDA,EAAO,MAAM,QAAU,MACxB,CAKI,SAASE,GAAc,CAC5B,MAAMC,EAAO,SAAS,cAAc,UAAU,EAE1CA,EACFA,EAAK,UAAY,GAEjB,QAAQ,MAAM,yCAAyC,CAE3D,CCzCA,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EAEjDJ,EAAS,SAAS,cAAc,aAAa,EAE7CK,EAAmBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAcH,EAAO,SAAS,WAAW,MAAM,OAErD,GAAI,CAACG,EAAa,CAChBC,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAChB,CAAK,EACD,MACD,CAGDN,IACAH,IAEAX,EAAYmB,CAAW,EACtB,KAAKE,GAAQ,CAMZ,GAHAR,IAGI,CAACQ,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCD,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,UAClB,CAAO,EACDR,EAAO,UAAY,GACnBI,EAAO,MAAK,EACZ,MACD,CAED,MAAMM,EAAcD,EAAK,KAAK,IAAId,GAAcD,EAAaC,CAAU,CAAC,EAAE,KAAK,EAAE,EAEjFK,EAAO,UAAYU,EAGnBd,IACAE,GAEJ,CAAG,EACA,MAAMa,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACnB,CAAG,CACH,EAEAP,EAAO,iBAAiB,SAAUC,CAAgB"}