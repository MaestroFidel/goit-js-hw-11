{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryCard = imgInfo => {\n  return `\n  <li class=\"gallery-card\">\n  <a href=\"${imgInfo.largeImageURL}\">\n  <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n  </a>\n  <ul class=\"comments\">\n  <li class=\"com\">likes: ${imgInfo.likes}</li>\n  <li class=\"com\">views: ${imgInfo.views}</li>\n  <li class=\"com\">comments: ${imgInfo.comments}</li>\n  <li class=\"com\">downloads: ${imgInfo.downloads}</li>\n  </ul>\n  </li>\n  `;\n\n};\n\nexport const displayPhotos = (photos, galleryImg, lightbox) => {\n  const galleryMarkup = photos.map(createGalleryCard).join('');\n  galleryImg.innerHTML = galleryMarkup;\n  lightbox.refresh();\n};\n\n\n\n\n","\nconst BASE_URL = 'https://pixabay.com/api/'\n\nexport const fetchPhotos = searchedQuery => {\n  const urlParams = new URLSearchParams({\n   q: searchedQuery,\n   orientation: 'horizontal',\n   per_page: 20,\n   key: '45481518-557ec69fe97012c17356df52c',\n   image_type: 'photo',\n   safesearch: 'true',\n  });\n\n  return  fetch(\n    `${BASE_URL}?${urlParams}`)\n  .then(response => {\nif (!response.ok) {\n  throw new Error(response.status);\n}\nreturn response.json();\n  })\n};","\nimport { createGalleryCard, displayPhotos } from \"./js/render-functions\";\nimport { fetchPhotos } from \"./js/pixabay-api\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchImg = document.querySelector('.js-search-form');\nconst galleryImg = document.querySelector('.js-gallery');\nconst waitLoader = document.querySelector('.js-loader');\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  const searchValue = searchImg.elements.user_query.value.trim();\n\n  if (searchValue === \"\") {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please fill out the form\",\n      position: 'topRight',\n      timeout: 3000\n    });\n    return;\n  }\n\n  waitLoader.classList.remove('loader-hidden');\n\n  fetchPhotos(searchValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: \"No results\",\n          message: \"Sorry, there are no images your search query. Please try again.\",\n          position: 'topLeft',\n        });\n        galleryImg.innerHTML = '';\n        searchImg.reset();\n        return;\n      }\n      displayPhotos(data.hits, galleryImg, new SimpleLightbox('.gallery-card a')); \n    })\n    .catch(err => {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Something wrong. Please, try later\"\n      });\n    })\n    .finally(() => {\n      waitLoader.classList.add('loader-hidden'); \n    });\n};\n\nsearchImg.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","imgInfo","displayPhotos","photos","galleryImg","lightbox","galleryMarkup","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","searchImg","waitLoader","onSearchFormSubmit","event","searchValue","iziToast","data","SimpleLightbox","err"],"mappings":"wvBAKO,MAAMA,EAAoBC,GACxB;AAAA;AAAA,aAEIA,EAAQ,aAAa;AAAA,kCACAA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,2BAGjDA,EAAQ,KAAK;AAAA,2BACbA,EAAQ,KAAK;AAAA,8BACVA,EAAQ,QAAQ;AAAA,+BACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,IAOnCC,EAAgB,CAACC,EAAQC,EAAYC,IAAa,CAC7D,MAAMC,EAAgBH,EAAO,IAAIH,CAAiB,EAAE,KAAK,EAAE,EAC3DI,EAAW,UAAYE,EACvBD,EAAS,QAAO,CAClB,ECzBME,EAAW,2BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACrC,EAAGD,EACH,YAAa,aACb,SAAU,GACV,IAAK,qCACL,WAAY,QACZ,WAAY,MACf,CAAG,EAED,OAAQ,MACN,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAC3B,KAAKC,GAAY,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAI,CACpB,CAAG,CACH,ECbMC,EAAY,SAAS,cAAc,iBAAiB,EACpDR,EAAa,SAAS,cAAc,aAAa,EACjDS,EAAa,SAAS,cAAc,YAAY,EAEhDC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAcJ,EAAU,SAAS,WAAW,MAAM,OAExD,GAAII,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDJ,EAAW,UAAU,OAAO,eAAe,EAE3CL,EAAYQ,CAAW,EACpB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,kEACT,SAAU,SACpB,CAAS,EACDb,EAAW,UAAY,GACvBQ,EAAU,MAAK,EACf,MACD,CACDV,EAAcgB,EAAK,KAAMd,EAAY,IAAIe,EAAe,iBAAiB,CAAC,CAChF,CAAK,EACA,MAAMC,GAAO,CACZH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAW,UAAU,IAAI,eAAe,CAC9C,CAAK,CACL,EAEAD,EAAU,iBAAiB,SAAUE,CAAkB"}